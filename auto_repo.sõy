#!/bin/bash
# Đường dẫn đến thư mục repo
REPO_DIR="/var/mobile/Documents/.Repo/*"
# Kiểm tra xem thư mục repo có tồn tại không
if ! ls $REPO_DIR >/dev/null 2>&1; then echo 
    "Không tìm thấy thư mục repo trong 
    /var/mobile/Documents/.Repo/" exit 1
fi
# Chuyển đến thư mục repo Lưu ý: REPO_DIR có 
# thể chứa wildcard (*), cần lấy thư mục cụ thể
REPO_DIR=$(ls -d /var/mobile/Documents/.Repo/*/ 
| head -n 1)
cd "$REPO_DIR" || { echo "Lỗi khi chuyển thư 
mục!"; exit 1; }
# Chạy file update.sh
if [ -f "update.sh" ]; then bash update.sh if [ 
    $? -eq 0 ]; then
        echo "Chạy update.sh thành công!" else 
        echo "Lỗi khi chạy update.sh!" exit 1
    fi else echo "Không tìm thấy file 
    update.sh!" exit 1
fi
# Thêm tất cả các thay đổi vào git
git add * if [ $? -eq 0 ]; then echo "Thêm các 
    file vào git thành công!"
else echo "Lỗi khi thêm file vào git!" exit 1 
fi
# Commit với thông điệp mặc định Thay "Update 
# repo" bằng thông điệp bạn muốn
git commit -m "Update repo" if [ $? -eq 0 ]; 
then
    echo "Commit thành công!" else echo "Lỗi 
    khi commit!" exit 1
fi
# Đẩy lên remote repository
git push if [ $? -eq 0 ]; then echo "Đẩy lên 
    repo thành công!"
else echo "Lỗi khi đẩy lên repo!" exit 
